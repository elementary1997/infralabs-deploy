<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infra Labs - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .diagram-container {
            position: relative;
            min-height: 800px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 40px;
            overflow-x: auto;
        }

        .connections-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .connections-overlay svg {
            width: 100%;
            height: 100%;
        }

        .layer {
            position: relative;
            z-index: 2;
        }

        .component {
            position: relative;
            z-index: 3;
        }

        .connection-arrow {
            stroke: #667eea;
            stroke-width: 2.5;
            fill: none;
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        .connection-arrow:hover {
            stroke-width: 3.5;
            opacity: 1;
        }

        .connection-arrow.api {
            stroke: #2196F3;
            stroke-dasharray: 5,5;
            marker-end: url(#arrowhead-blue);
        }

        .connection-arrow.data {
            stroke: #9C27B0;
            marker-end: url(#arrowhead-purple);
        }

        .connection-arrow.queue {
            stroke: #FF9800;
            marker-end: url(#arrowhead-orange);
        }

        .connection-arrow.storage {
            stroke: #607D8B;
            stroke-dasharray: 3,3;
            marker-end: url(#arrowhead-gray);
        }

        .connection-arrow.sandbox {
            stroke: #F44336;
            marker-end: url(#arrowhead-red);
        }

        .connection-label {
            font-size: 11px;
            fill: #666;
            background: white;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .connection-label-bg {
            fill: white;
            opacity: 0.9;
        }

        .layer {
            margin-bottom: 40px;
        }

        .layer-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .components {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .component {
            background: white;
            border-radius: 15px;
            padding: 25px;
            min-width: 250px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .component:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .component::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
        }

        .component.frontend::before { background: #4CAF50; }
        .component.backend::before { background: #2196F3; }
        .component.queue::before { background: #FF9800; }
        .component.data::before { background: #9C27B0; }
        .component.sandbox::before { background: #F44336; }
        .component.storage::before { background: #607D8B; }

        .component-icon {
            font-size: 3em;
            text-align: center;
            margin-bottom: 15px;
        }

        .component-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .component-desc {
            color: #666;
            font-size: 0.9em;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .component-tech {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }

        .tech-badge {
            background: #e0e0e0;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            color: #555;
        }

        .connection-line {
            stroke: #999;
            stroke-width: 2;
            stroke-dasharray: 5,5;
            fill: none;
            animation: dash 2s linear infinite;
        }

        @keyframes dash {
            to {
                stroke-dashoffset: -20;
            }
        }

        .arrow {
            stroke: #667eea;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }

        .arrow-label {
            font-size: 12px;
            fill: #667eea;
            font-weight: bold;
        }

        .info-panel {
            margin-top: 40px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
        }

        .info-panel h2 {
            color: #667eea;
            margin-bottom: 20px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .info-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .info-card h3 {
            color: #333;
            margin-bottom: 10px;
        }

        .info-card ul {
            list-style: none;
            padding-left: 0;
        }

        .info-card li {
            padding: 5px 0;
            color: #666;
        }

        .info-card li::before {
            content: "‚ñ∏ ";
            color: #667eea;
            font-weight: bold;
        }

        .flow-diagram {
            text-align: center;
            margin: 40px 0;
            padding: 30px;
            background: white;
            border-radius: 15px;
        }

        .flow-step {
            display: inline-block;
            vertical-align: middle;
            margin: 0 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            min-width: 150px;
        }

        .flow-arrow {
            display: inline-block;
            vertical-align: middle;
            font-size: 2em;
            color: #667eea;
        }

        .port-badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        @media (max-width: 768px) {
            .components {
                flex-direction: column;
            }
            
            .component {
                min-width: 100%;
            }
        }

        .highlight {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì Infra Labs</h1>
            <p>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ - Interactive Ansible Learning Platform</p>
        </div>

        <div class="content">
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #4CAF50;"></div>
                    <span>Frontend Layer</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #2196F3;"></div>
                    <span>Backend Layer</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #FF9800;"></div>
                    <span>Task Queue</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #9C27B0;"></div>
                    <span>Data Layer</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #F44336;"></div>
                    <span>Sandbox</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #607D8B;"></div>
                    <span>Storage</span>
                </div>
            </div>

            <div class="diagram-container" id="diagramContainer">
                <!-- SVG Overlay for Connections -->
                <svg class="connections-overlay" id="connectionsSVG">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#667eea" />
                        </marker>
                        <marker id="arrowhead-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#2196F3" />
                        </marker>
                        <marker id="arrowhead-purple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#9C27B0" />
                        </marker>
                        <marker id="arrowhead-orange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#FF9800" />
                        </marker>
                        <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#F44336" />
                        </marker>
                        <marker id="arrowhead-gray" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#607D8B" />
                        </marker>
                    </defs>
                    <!-- Connections will be drawn here by JavaScript -->
                </svg>

                <!-- Frontend Layer -->
                <div class="layer">
                    <div class="layer-title">üåê Frontend Layer (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)</div>
                    <div class="components">
                        <div class="component frontend" data-component="nginx">
                            <div class="component-icon">üåç</div>
                            <div class="component-title">Nginx<span class="port-badge">:80</span></div>
                            <div class="component-desc">
                                Reverse Proxy, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã, SSL termination
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Nginx</span>
                                <span class="tech-badge">SSL/TLS</span>
                            </div>
                        </div>
                        <div class="component frontend" data-component="react">
                            <div class="component-icon">‚öõÔ∏è</div>
                            <div class="component-title">React Frontend</div>
                            <div class="component-desc">
                                SPA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Monaco Editor –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Ansible playbooks
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">React 18</span>
                                <span class="tech-badge">Monaco</span>
                                <span class="tech-badge">Material-UI</span>
                                <span class="tech-badge">React Query</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Backend Layer -->
                <div class="layer">
                    <div class="layer-title">‚öôÔ∏è Backend Layer (API & Admin)</div>
                    <div class="components">
                        <div class="component backend" data-component="django-api">
                            <div class="component-icon">üêç</div>
                            <div class="component-title">Django REST API<span class="port-badge">:8000</span></div>
                            <div class="component-desc">
                                RESTful API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏ –∏ –º–æ–¥—É–ª—è–º–∏
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Django 5.0+</span>
                                <span class="tech-badge">DRF</span>
                                <span class="tech-badge">JWT</span>
                                <span class="tech-badge">Gunicorn</span>
                            </div>
                        </div>
                        <div class="component backend" data-component="django-admin">
                            <div class="component-icon">üë®‚Äçüíº</div>
                            <div class="component-title">Django Admin</div>
                            <div class="component-desc">
                                –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∫—É—Ä—Å–∞–º–∏ –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Django Admin</span>
                                <span class="tech-badge">Custom Admin</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Task Queue Layer -->
                <div class="layer">
                    <div class="layer-title">‚ö° Task Queue Layer (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏)</div>
                    <div class="components">
                        <div class="component queue" data-component="celery-worker">
                            <div class="component-icon">üî®</div>
                            <div class="component-title">Celery Worker</div>
                            <div class="component-desc">
                                –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á: –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π, –æ—á–∏—Å—Ç–∫–∞ sandbox –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Celery</span>
                                <span class="tech-badge">Concurrency: 4</span>
                            </div>
                        </div>
                        <div class="component queue" data-component="celery-beat">
                            <div class="component-icon">‚è∞</div>
                            <div class="component-title">Celery Beat</div>
                            <div class="component-desc">
                                –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏: –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–µ—Å—Å–∏–π, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Celery Beat</span>
                                <span class="tech-badge">Cron-like</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Data Layer -->
                <div class="layer">
                    <div class="layer-title">üíæ Data Layer (–•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö)</div>
                    <div class="components">
                        <div class="component data" data-component="postgresql">
                            <div class="component-icon">üêò</div>
                            <div class="component-title">PostgreSQL<span class="port-badge">:5432</span></div>
                            <div class="component-desc">
                                –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫—É—Ä—Å—ã, –º–æ–¥—É–ª–∏, —É—Ä–æ–∫–∏, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –ø—Ä–æ–≥—Ä–µ—Å—Å, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">PostgreSQL 15</span>
                                <span class="tech-badge">ACID</span>
                            </div>
                        </div>
                        <div class="component data" data-component="redis">
                            <div class="component-icon">üì¶</div>
                            <div class="component-title">Redis<span class="port-badge">:6379</span></div>
                            <div class="component-desc">
                                –ö–µ—à –¥–ª—è —Å–µ—Å—Å–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö, –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Celery, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Redis 7</span>
                                <span class="tech-badge">Cache</span>
                                <span class="tech-badge">Broker</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sandbox Layer -->
                <div class="layer">
                    <div class="layer-title">üê≥ Sandbox Layer (–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)</div>
                    <div class="components">
                        <div class="component sandbox" data-component="docker-executor">
                            <div class="component-icon">üîí</div>
                            <div class="component-title">Docker Executor</div>
                            <div class="component-desc">
                                –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Ansible playbooks, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Docker-in-Docker</span>
                                <span class="tech-badge">Ansible</span>
                                <span class="tech-badge">Timeout: 300s</span>
                            </div>
                        </div>
                        <div class="component sandbox" data-component="test-runner">
                            <div class="component-icon">‚úÖ</div>
                            <div class="component-title">Test Runner & Validator</div>
                            <div class="component-desc">
                                –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π, –≤–∞–ª–∏–¥–∞—Ü–∏—è playbooks, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Ansible Validator</span>
                                <span class="tech-badge">Test Cases</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Storage Layer -->
                <div class="layer">
                    <div class="layer-title">üíø Storage Layer (–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)</div>
                    <div class="components">
                        <div class="component storage" data-component="static-volume">
                            <div class="component-icon">üìÅ</div>
                            <div class="component-title">Static Volume</div>
                            <div class="component-desc">
                                –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã Django: CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–¥–º–∏–Ω–∫–∏
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Docker Volume</span>
                            </div>
                        </div>
                        <div class="component storage" data-component="media-volume">
                            <div class="component-icon">üñºÔ∏è</div>
                            <div class="component-title">Media Volume</div>
                            <div class="component-desc">
                                –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: –∏–∫–æ–Ω–∫–∏ –∫—É—Ä—Å–æ–≤/–º–æ–¥—É–ª–µ–π, –∞–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ñ–∞–π–ª—ã —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Docker Volume</span>
                            </div>
                        </div>
                        <div class="component storage" data-component="postgresql-volume">
                            <div class="component-icon">üíæ</div>
                            <div class="component-title">PostgreSQL Data</div>
                            <div class="component-desc">
                                –î–∞–Ω–Ω—ã–µ –±–∞–∑—ã PostgreSQL (persistent storage)
                            </div>
                            <div class="component-tech">
                                <span class="tech-badge">Docker Volume</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Flow Diagram -->
                <div class="flow-diagram">
                    <h2 style="margin-bottom: 30px; color: #667eea;">üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö</h2>
                    <div class="flow-step">
                        <strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</strong><br>
                        –ë—Ä–∞—É–∑–µ—Ä
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-step">
                        <strong>Nginx</strong><br>
                        Reverse Proxy
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-step">
                        <strong>React / API</strong><br>
                        Frontend –∏–ª–∏ Django
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-step">
                        <strong>PostgreSQL / Redis</strong><br>
                        –î–∞–Ω–Ω—ã–µ
                    </div>
                </div>
            </div>

            <!-- Info Panel -->
            <div class="info-panel">
                <h2>üìã –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>Django Apps</h3>
                        <ul>
                            <li><strong>accounts</strong> - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                            <li><strong>courses</strong> - –ö—É—Ä—Å—ã, –º–æ–¥—É–ª–∏ –∏ —É—Ä–æ–∫–∏</li>
                            <li><strong>exercises</strong> - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</li>
                            <li><strong>sandbox</strong> - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö</li>
                            <li><strong>progress</strong> - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>–û—Å–Ω–æ–≤–Ω—ã–µ API Endpoints</h3>
                        <ul>
                            <li><code>/api/auth/</code> - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)</li>
                            <li><code>/api/courses/</code> - –ö—É—Ä—Å—ã –∏ –º–æ–¥—É–ª–∏</li>
                            <li><code>/api/exercises/</code> - –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</li>
                            <li><code>/api/sandbox/</code> - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞</li>
                            <li><code>/api/progress/</code> - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
                            <li><code>/admin/</code> - Django Admin –ø–∞–Ω–µ–ª—å</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>Docker Compose Services</h3>
                        <ul>
                            <li><strong>web</strong> - Django + Gunicorn (4 workers)</li>
                            <li><strong>db</strong> - PostgreSQL 15</li>
                            <li><strong>redis</strong> - Redis 7 (Cache + Broker)</li>
                            <li><strong>celery_worker</strong> - Celery Worker (concurrency: 4)</li>
                            <li><strong>celery_beat</strong> - Celery Beat Scheduler</li>
                            <li><strong>nginx</strong> - Nginx Reverse Proxy</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h3>
                        <ul>
                            <li>‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ (Monaco Editor)</li>
                            <li>‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ Ansible playbooks</li>
                            <li>‚úÖ –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ Docker</li>
                            <li>‚úÖ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</li>
                            <li>‚úÖ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</li>
                            <li>‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h3>
                        <ul>
                            <li><strong>Backend:</strong> Django 5.0+, DRF, PostgreSQL, Redis</li>
                            <li><strong>Frontend:</strong> React 18, Monaco Editor, Material-UI</li>
                            <li><strong>Queue:</strong> Celery, Redis (broker)</li>
                            <li><strong>Server:</strong> Gunicorn, Nginx</li>
                            <li><strong>Containerization:</strong> Docker, Docker Compose</li>
                            <li><strong>Sandbox:</strong> Docker-in-Docker</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>–°–µ—Ç—å –∏ –ø–æ—Ä—Ç—ã</h3>
                        <ul>
                            <li><strong>80</strong> - Nginx (HTTP)</li>
                            <li><strong>8000</strong> - Django/Gunicorn</li>
                            <li><strong>5432</strong> - PostgreSQL</li>
                            <li><strong>6379</strong> - Redis</li>
                            <li><strong>Docker Socket</strong> - /var/run/docker.sock</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
                <p style="color: #666; font-size: 0.9em;">
                    <strong>Infra Labs</strong> - Interactive Ansible Learning Platform<br>
                    –í–µ—Ä—Å–∏—è: 1.0.0 | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º—ã: 2025
                </p>
            </div>
        </div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
        function getComponentPosition(componentId) {
            const component = document.querySelector(`[data-component="${componentId}"]`);
            if (!component) return null;
            
            const container = document.getElementById('diagramContainer');
            const containerRect = container.getBoundingClientRect();
            const componentRect = component.getBoundingClientRect();
            
            return {
                x: componentRect.left - containerRect.left + componentRect.width / 2,
                y: componentRect.top - containerRect.top + componentRect.height / 2,
                width: componentRect.width,
                height: componentRect.height
            };
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∞—Ä–∫–µ—Ä–∞ –ø–æ –∫–ª–∞—Å—Å—É
        function getMarkerForClass(className) {
            const markers = {
                'api': 'arrowhead-blue',
                'data': 'arrowhead-purple',
                'queue': 'arrowhead-orange',
                'sandbox': 'arrowhead-red',
                'storage': 'arrowhead-gray'
            };
            return markers[className] || 'arrowhead';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–µ–ª–∫–∏
        function drawArrow(svg, fromId, toId, className, label, offsetX = 0, offsetY = 0) {
            const from = getComponentPosition(fromId);
            const to = getComponentPosition(toId);
            
            if (!from || !to) return null;
            
            const x1 = from.x + offsetX;
            const y1 = from.y + from.height / 2 + offsetY;
            const x2 = to.x + offsetX;
            const y2 = to.y - to.height / 2 + offsetY;
            
            // –ö—Ä–∏–≤–∞—è –ë–µ–∑—å–µ –¥–ª—è –±–æ–ª–µ–µ –∫—Ä–∞—Å–∏–≤—ã—Ö —Å—Ç—Ä–µ–ª–æ–∫
            const midY = (y1 + y2) / 2;
            const midX = (x1 + x2) / 2;
            const path = `M ${x1} ${y1} Q ${x1} ${midY}, ${midX} ${midY} T ${x2} ${y2}`;
            
            const pathElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            pathElement.setAttribute('d', path);
            pathElement.setAttribute('class', `connection-arrow ${className}`);
            pathElement.setAttribute('marker-end', `url(#${getMarkerForClass(className)})`);
            
            if (label) {
                const labelX = midX;
                const labelY = midY - 10;
                
                const labelBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                labelBg.setAttribute('x', labelX - 35);
                labelBg.setAttribute('y', labelY - 8);
                labelBg.setAttribute('width', 70);
                labelBg.setAttribute('height', 16);
                labelBg.setAttribute('rx', 3);
                labelBg.setAttribute('fill', 'white');
                labelBg.setAttribute('opacity', '0.9');
                svg.appendChild(labelBg);
                
                const labelText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                labelText.setAttribute('x', labelX);
                labelText.setAttribute('y', labelY);
                labelText.setAttribute('text-anchor', 'middle');
                labelText.setAttribute('dominant-baseline', 'middle');
                labelText.setAttribute('font-size', '11px');
                labelText.setAttribute('fill', '#666');
                labelText.setAttribute('font-weight', '500');
                labelText.textContent = label;
                svg.appendChild(labelText);
            }
            
            svg.appendChild(pathElement);
            return pathElement;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å–≤—è–∑–µ–π
        function drawConnections() {
            const svg = document.getElementById('connectionsSVG');
            if (!svg) return;
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å—Ç—Ä–µ–ª–∫–∏ (–∫—Ä–æ–º–µ defs)
            const existingPaths = svg.querySelectorAll('path, text, rect');
            existingPaths.forEach(el => el.remove());
            
            // –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ä–∞—Å—á–µ—Ç–∞ –ø–æ–∑–∏—Ü–∏–π
            setTimeout(() => {
                // Nginx ‚Üí React Frontend
                drawArrow(svg, 'nginx', 'react', 'api', 'HTTP');
                
                // Nginx ‚Üí Django REST API
                drawArrow(svg, 'nginx', 'django-api', 'api', '/api/*');
                
                // Nginx ‚Üí Django Admin
                drawArrow(svg, 'nginx', 'django-admin', 'api', '/admin/*');
                
                // React Frontend ‚Üí Django REST API
                drawArrow(svg, 'react', 'django-api', 'api', 'REST API', 50);
                
                // Django REST API ‚Üí PostgreSQL
                drawArrow(svg, 'django-api', 'postgresql', 'data', 'ORM', -80);
                
                // Django REST API ‚Üí Redis
                drawArrow(svg, 'django-api', 'redis', 'data', 'Cache', 80);
                
                // Django REST API ‚Üí Docker Executor
                drawArrow(svg, 'django-api', 'docker-executor', 'sandbox', 'Execute');
                
                // Django Admin ‚Üí PostgreSQL
                drawArrow(svg, 'django-admin', 'postgresql', 'data', 'ORM', -40);
                
                // Celery Worker ‚Üí Redis (Broker)
                drawArrow(svg, 'celery-worker', 'redis', 'queue', 'Tasks', -60);
                
                // Celery Beat ‚Üí Redis (Broker)
                drawArrow(svg, 'celery-beat', 'redis', 'queue', 'Schedule', 60);
                
                // Celery Worker ‚Üí PostgreSQL
                drawArrow(svg, 'celery-worker', 'postgresql', 'data', 'Save');
                
                // Celery Worker ‚Üí Docker Executor
                drawArrow(svg, 'celery-worker', 'docker-executor', 'sandbox', 'Cleanup', 40);
                
                // Docker Executor ‚Üí Test Runner
                drawArrow(svg, 'docker-executor', 'test-runner', 'sandbox', 'Validate');
                
                // Test Runner ‚Üí PostgreSQL
                drawArrow(svg, 'test-runner', 'postgresql', 'data', 'Results');
                
                // Django REST API ‚Üí Static Volume
                drawArrow(svg, 'django-api', 'static-volume', 'storage', 'Static', -120);
                
                // Django REST API ‚Üí Media Volume
                drawArrow(svg, 'django-api', 'media-volume', 'storage', 'Media', 120);
                
                // Nginx ‚Üí Static Volume
                drawArrow(svg, 'nginx', 'static-volume', 'storage', 'Serve', -40);
                
                // Nginx ‚Üí Media Volume
                drawArrow(svg, 'nginx', 'media-volume', 'storage', 'Serve', 40);
                
                // PostgreSQL ‚Üí PostgreSQL Data Volume
                drawArrow(svg, 'postgresql', 'postgresql-volume', 'storage', 'Persist');
            }, 500);
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
        document.querySelectorAll('.component').forEach(component => {
            component.addEventListener('click', function() {
                this.classList.toggle('highlight');
                setTimeout(() => {
                    this.classList.remove('highlight');
                }, 2000);
            });
            
            component.addEventListener('mouseenter', function() {
                // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Ç—Ä–µ–ª–∫–∏
                const componentId = this.getAttribute('data-component');
                if (componentId) {
                    document.querySelectorAll('.connection-arrow').forEach(arrow => {
                        const path = arrow.getAttribute('d');
                        const pos = getComponentPosition(componentId);
                        if (pos && path) {
                            // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –µ—Å–ª–∏ –ø—É—Ç—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ä—è–¥–æ–º —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º
                            arrow.style.opacity = '0.9';
                        }
                    });
                }
            });
            
            component.addEventListener('mouseleave', function() {
                document.querySelectorAll('.connection-arrow').forEach(arrow => {
                    arrow.style.opacity = '';
                });
            });
        });

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        entry.target.style.opacity = '0';
                        entry.target.style.transform = 'translateY(20px)';
                        entry.target.style.transition = 'all 0.5s ease';
                        
                        setTimeout(() => {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                        }, 50);
                    }, index * 100);
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.component').forEach(comp => {
            observer.observe(comp);
        });

        // –†–∏—Å—É–µ–º —Å–≤—è–∑–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            drawConnections();
            
            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(drawConnections, 250);
            });
        });

        // –¢–∞–∫–∂–µ —Ä–∏—Å—É–µ–º –ø–æ—Å–ª–µ –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏
        setTimeout(drawConnections, 1000);
    </script>
</body>
</html>
